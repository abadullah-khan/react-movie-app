import{G as p,j as e,l as j,r as n,F as k,n as u,C as f,u as _,o as b,b as D,p as V}from"./index-KG6pjIUB.js";import{V as N}from"./VideoPlayer-AChery4U.js";function w(a){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Play_1"},child:[{tag:"path",attr:{d:"M6.562,21.94a2.5,2.5,0,0,1-2.5-2.5V4.56A2.5,2.5,0,0,1,7.978,2.5L18.855,9.939a2.5,2.5,0,0,1,0,4.12L7.977,21.5A2.5,2.5,0,0,1,6.562,21.94Zm0-18.884a1.494,1.494,0,0,0-.7.177,1.477,1.477,0,0,0-.8,1.327V19.439a1.5,1.5,0,0,0,2.35,1.235l10.877-7.44a1.5,1.5,0,0,0,0-2.471L7.413,3.326A1.491,1.491,0,0,0,6.564,3.056Z"},child:[]}]}]})(a)}function T(a){return p({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 13C12.5523 13 13 12.5523 13 12V3C13 2.44771 12.5523 2 12 2H3C2.44771 2 2 2.44771 2 3V6.5C2 6.77614 2.22386 7 2.5 7C2.77614 7 3 6.77614 3 6.5V3H12V12H8.5C8.22386 12 8 12.2239 8 12.5C8 12.7761 8.22386 13 8.5 13H12ZM9 6.5C9 6.5001 9 6.50021 9 6.50031V6.50035V9.5C9 9.77614 8.77614 10 8.5 10C8.22386 10 8 9.77614 8 9.5V7.70711L2.85355 12.8536C2.65829 13.0488 2.34171 13.0488 2.14645 12.8536C1.95118 12.6583 1.95118 12.3417 2.14645 12.1464L7.29289 7H5.5C5.22386 7 5 6.77614 5 6.5C5 6.22386 5.22386 6 5.5 6H8.5C8.56779 6 8.63244 6.01349 8.69139 6.03794C8.74949 6.06198 8.80398 6.09744 8.85143 6.14433C8.94251 6.23434 8.9992 6.35909 8.99999 6.49708L8.99999 6.49738",fill:"currentColor"},child:[]}]})(a)}const P=({movieDetails:a})=>e.jsxs("section",{className:"castContainer",children:[e.jsx("span",{className:"sectionName",children:"Top Billed Cast"}),e.jsx("div",{className:"cardWrapper",children:a.credits.cast.slice(0,15).map(l=>e.jsx(I,{item:l},l.id))})]}),I=({item:a})=>{const{ref:l,inView:r}=j({threshold:0}),[t,s]=n.useState(!1);return n.useEffect(()=>{r&&s(!0)},[r]),e.jsxs("div",{className:"castCard",ref:l,children:[e.jsx("div",{className:"imgContainer",children:t&&e.jsx("img",{src:`https://image.tmdb.org/t/p/original${a.profile_path}`,alt:""})}),e.jsxs("div",{className:"about",children:[e.jsx("span",{className:"name",children:a.name}),e.jsx("span",{className:"character",children:a.character})]})]},a.id)},M=({movieDetails:a})=>{const[l,r]=n.useState(!0);return e.jsxs("div",{className:"videosContainer",children:[e.jsxs("div",{className:"videosHeader",children:[e.jsx("span",{className:"sectionName",children:"Media"}),e.jsxs("div",{className:"buttonContainer",children:[e.jsx("button",{className:l?"active":"",onClick:()=>r(!0),children:"Most Popular"}),e.jsx("button",{className:l?"":"active",onClick:()=>r(!1),children:"Videos"})]})]}),l?e.jsx("div",{className:"videoCardWrapper",children:a.videos.results.map(t=>t.official===!0||t.type==="Teaser"||t.type==="Trailer"?e.jsx(x,{video:t},t.id):"")}):e.jsx("div",{className:"videoCardWrapper",children:a.videos.results.map(t=>e.jsx(x,{video:t},t.id))})]})},x=({video:a})=>{const{ref:l,inView:r}=j(),[t,s]=n.useState(!1),[d,c]=n.useState(null);return n.useEffect(()=>{r&&s(!0)},[r]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"videoCard",ref:l,children:t&&e.jsxs("div",{className:"imageContainer",onClick:()=>c(a),children:[e.jsx("img",{src:`https://i3.ytimg.com/vi/${a.key}/maxresdefault.jpg`,alt:a.title}),e.jsx("div",{className:"iconContainer",children:e.jsx(k,{className:"icon"})})]})}),e.jsx(N,{currentTrailerDetails:d,setCurrentTrailerDetails:c})]})},R=({movieDetails:a})=>{const{mediaType:l}=u();return e.jsxs("div",{className:"recommendedWrapper",children:[e.jsx("span",{className:"sectionName",children:"Recommendations"}),e.jsx("div",{className:"cardContainer",children:a.recommendations.results.map(r=>{const t={...r,mediaType:l};return e.jsx(f,{item:t},r.id)})})]})},$=()=>{const a=_(),{id:l,mediaType:r}=u();n.useEffect(()=>{a(b({id:l,mediaType:r}))},[l,r]);const t=D(i=>i.movie),{movieDetails:s}=t,[d,c]=n.useState(!1),[v,m]=n.useState(null);n.useEffect(()=>{s&&s.id&&c(!0)},[s]);const g=i=>{const o=Math.floor(i/60),h=i%60;return`${o}hr ${h>0?`${h}min`:""}`},C=()=>{const i=s.videos.results.find(o=>o.type==="Trailer");m(i)},y=()=>{window.open(`https://www.imdb.com/title/${s.imdb_id}`)};return e.jsxs(e.Fragment,{children:[d&&s.id?e.jsxs("div",{className:"movieDetailContainer",children:[e.jsx("img",{src:`https://image.tmdb.org/t/p/original${s.backdrop_path?s.backdrop_path:s.poster_path}`,alt:"",className:"backdropImg"}),e.jsxs("div",{className:"overlay",children:[e.jsx("img",{src:`https://image.tmdb.org/t/p/original${s.poster_path?s.poster_path:s.backdrop_path}`,alt:"",className:"posterImg"}),e.jsxs("div",{className:"summary",children:[e.jsxs("div",{className:"titleContainer",children:[e.jsxs("h2",{className:"title",children:[s.title?s.title:s.name,e.jsxs("span",{children:["(",s.release_date?s.release_date.slice(0,4):s.first_air_date.slice(0,4),")"]})]}),e.jsxs("div",{className:"keyDetails",children:[e.jsxs("p",{children:["Rating :-",e.jsxs("span",{children:[s.vote_average.toFixed(1),e.jsx(V,{})]})]}),"|",e.jsxs("p",{children:["Release-date :-",e.jsxs("span",{children:[s.release_date?s.release_date:s.first_air_date,"(",s.production_countries[0].iso_3166_1,")"]})]}),"|",e.jsxs("p",{children:["Run-time :-",e.jsx("span",{children:g(s.runtime?s.runtime:s.episode_run_time.map(i=>i))})]})]})]}),e.jsx("div",{className:"tagline",children:s.tagline}),e.jsx("div",{className:"genres",children:s.genres.map(i=>e.jsx("span",{children:i.name},i.id))}),e.jsxs("div",{className:"overview",children:["Overview",e.jsx("p",{children:s.overview})]}),e.jsxs("div",{className:"btnContainer",children:[e.jsxs("button",{onClick:()=>C(),children:[e.jsx(w,{}),"Play Trailer"]}),e.jsxs("button",{onClick:()=>y(),children:[e.jsx(T,{}),"IMDB Link"]})]})]})]}),e.jsxs("div",{className:"detailsContainer",children:[e.jsxs("div",{className:"scrolls",children:[e.jsx(P,{movieDetails:s}),e.jsx("hr",{}),e.jsx(M,{movieDetails:s}),e.jsx("hr",{}),s.recommendations.results.length>0&&e.jsx(R,{movieDetails:s})]}),e.jsxs("aside",{children:[e.jsxs("div",{className:"extraKeyDetailsContainer",children:[e.jsxs("div",{className:"extraKeyDetails",children:[e.jsx("span",{className:"keyTitle",children:"Status"}),e.jsx("span",{className:"keyDetail",children:s.status})]}),s.networks&&e.jsxs("div",{className:"extraKeyDetails",children:[e.jsx("span",{className:"keyTitle",children:"Network"}),s.networks.map(i=>e.jsx("span",{className:"keyDetail",children:i.name}))]}),s.type&&e.jsxs("div",{className:"extraKeyDetails",children:[e.jsx("span",{className:"keyTitle",children:"Type"}),e.jsx("span",{className:"keyDetail",children:s.type})]}),e.jsxs("div",{className:"extraKeyDetails",children:[e.jsx("span",{className:"keyTitle",children:"Original Language"}),e.jsx("span",{className:"keyDetail",children:s.original_language})]}),s.budget&&e.jsxs("div",{className:"extraKeyDetails",children:[e.jsx("span",{className:"keyTitle",children:"Budget"}),e.jsx("span",{className:"keyDetail",children:s.budget})]}),s.revenue&&e.jsxs("div",{className:"extraKeyDetails",children:[e.jsx("span",{className:"keyTitle",children:"Revenue"}),e.jsx("span",{className:"keyDetail",children:s.revenue})]}),e.jsxs("div",{className:"extraKeyDetails",children:[e.jsx("span",{className:"keyTitle",children:"Keywords"}),e.jsx("div",{className:"keyDetail",children:s.keywords.keywords?s.keywords.keywords.map(i=>e.jsx("span",{className:"keys",children:i.name},i.id)):s.keywords.results.map(i=>e.jsx("span",{className:"keys",children:i.name},i.id))})]})]}),e.jsx("hr",{}),s.belongs_to_collection?e.jsxs("div",{className:"belongingContainer",children:[e.jsx("div",{className:"imgContainer",children:e.jsx("img",{src:`https://image.tmdb.org/t/p/original${s.belongs_to_collection.backdrop_path}`,alt:""})}),e.jsx("div",{className:"overlay",children:e.jsxs("div",{className:"title",children:["Part of the ",s.belongs_to_collection.name]})})]}):""]})]})]}):"",e.jsx(N,{currentTrailerDetails:v,setCurrentTrailerDetails:m})]})};export{$ as Movie};
